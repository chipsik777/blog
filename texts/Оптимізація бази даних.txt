Андрус
Оптимізація бази даних

Оптимізація баз даних - це процес підвищення продуктивності, ефективності та надійності системи баз даних. Вона має вирішальне значення для веб-розробників, оскільки безпосередньо впливає на швидкість і швидкість відгуку веб-додатків, що призводить до кращого користувацького досвіду.
Характерними особливостями баз даних (БД) є:
- незалежність даних від програм;
- для даних допускається така мінімальна надлишковість, яка сприяє їх оптимальному використанню в одному чи кількох застосуваннях;
- для пошуку та модифікації даних використовуються спільні механізми;
- як правило, у складі БД існують засоби для підтримки її цілісності та захисту від неавторизованого доступу.
Оптимізація баз даних необхідна, коли в БД постійно додаються і видаляються записи. Таким чином оптимізація таблиць БД дозволяє прибрати «порожні» ключі, тим самим прискорюючи в майбутньому операції вибірки.
Можливі такі методи оптимізації БД:
- безпосередньо сама оптимізація БД і СУБД в цілому;
- оптимізація взаємодії програми та MS SQL Server;
- оптимізація запитів.
При оптимізації БД в цілому необхідно уникати: застою процедурного кешу, неоптимальних індексів та статистики. Виникає потреба у регламентних роботах в час мінімальної загрузки або проводити відповідні процедури на резервному сервері.
Результативною буде робота при початковій оптимізації індексів і в подальшому очищенню процедурного кешу та оновлення статистики. Процес очистки процедурного кешу проводять командою: dbcc flushprocind (‘ім’я бази даних’). Дана очистка корисна для БД з об’ємом до 500 Gb та при частому оновленню даних у базі даних. Оптимізація індексів включає фактори, які потрібно уникнути: сильно фрагментовані індекси,
невикористовуванні індекси, відсутні індекси, індекси, які для свого обслуговування використовують більше витрат, ніж приносять виграш в продуктивності. Слід відзначити те, що навіть якщо індекс не використовується або вимагає значних витрат, то не потрібно поспішати його видаляти. Необхідно переконатися в тому, що він дійсно не потрібен системі. Для цього необхідно на тестовому середовищі, яке максимально наближене до виробничого, провести необхідні випробування-спочатку з індексом, а потім з віддаленим індексом. Таким чином для автоматизації процесу оптимізації індексів можна зробити наступні кроки: для кожної потрібної БД визначити представлення і збережену процедуру, створити завдання в агента на періодичний виклик збереженої процедури з БД по адмініструванню. Важливо не забувати оновлювати статистику після реорганізації індексу, так як в такому випадку вона не оновлюється, а також при виконанні очищенню процедурного кешу.